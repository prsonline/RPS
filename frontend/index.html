<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Online</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loader"></div>
        <p>ƒêang t·∫£i game...</p>
    </div>

    <!-- Main Container -->
    <div id="gameContainer" class="game-container hidden">
        
        <!-- Header -->
        <header class="game-header">
            <div class="logo">
                <h1>üéÆ RPS Online</h1>
            </div>
            <div class="user-info">
                <div class="coins">üí∞ <span id="userCoins">0</span></div>
                <div class="profile" id="userProfile">
                    <span id="username">Guest</span>
                    <div class="avatar">üë§</div>
                </div>
            </div>
        </header>

        <!-- Main Menu -->
        <div id="mainMenu" class="menu-screen">
            <div class="menu-card">
                <h2>Ch√†o m·ª´ng ƒë·∫øn RPS Online!</h2>
                <div class="menu-buttons">
                    <button class="btn btn-primary" id="quickPlayBtn">
                        üöÄ Ch∆°i nhanh v·ªõi BOT
                    </button>
                    <button class="btn btn-secondary" id="createRoomBtn">
                        üè† T·∫°o ph√≤ng ch∆°i
                    </button>
                    <button class="btn btn-secondary" id="joinRoomBtn">
                        üö™ V√†o ph√≤ng
                    </button>
                    <button class="btn btn-outline" id="loginBtn">
                        üë§ ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω
                    </button>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="loginModal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω</h3>
                <form id="authForm">
                    <input type="text" id="usernameInput" placeholder="T√™n ng∆∞·ªùi d√πng" required>
                    <input type="email" id="emailInput" placeholder="Email (t√πy ch·ªçn)">
                    <button type="submit" class="btn btn-primary">X√°c nh·∫≠n</button>
                </form>
                <p class="guest-option">
                    <button id="playAsGuestBtn" class="btn btn-link">Ch∆°i nh∆∞ kh√°ch</button>
                </p>
            </div>
        </div>

        <!-- Room Creation -->
        <div id="roomCreation" class="screen hidden">
            <div class="room-card">
                <h3>T·∫°o ph√≤ng ch∆°i</h3>
                <div class="room-settings">
                    <label>
                        <input type="checkbox" id="privateRoom"> Ph√≤ng ri√™ng t∆∞
                    </label>
                    <label>
                        S·ªë v√°n th·∫Øng: 
                        <select id="winCondition">
                            <option value="1">1 v√°n</option>
                            <option value="3" selected>3 v√°n</option>
                            <option value="5">5 v√°n</option>
                        </select>
                    </label>
                </div>
                <button class="btn btn-primary" id="createRoomConfirm">T·∫°o ph√≤ng</button>
                <button class="btn btn-outline" id="backToMenuBtn">Quay l·∫°i</button>
            </div>
        </div>

        <!-- Waiting Room -->
        <div id="waitingRoom" class="screen hidden">
            <div class="waiting-card">
                <h3>ƒêang ch·ªù ƒë·ªëi th·ªß...</h3>
                <div class="room-info">
                    <p>M√£ ph√≤ng: <span id="roomCode">ABC123</span></p>
                    <p>Link m·ªùi: <span id="inviteLink">game.com/join/ABC123</span></p>
                </div>
                <button class="btn btn-secondary" id="copyLinkBtn">üìã Copy link</button>
                <button class="btn btn-outline" id="cancelRoomBtn">H·ªßy ph√≤ng</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen hidden">
            <!-- Score Display -->
            <div class="score-board">
                <div class="player-score">
                    <div class="player-info">
                        <span class="player-name" id="player1Name">B·∫°n</span>
                        <div class="score" id="player1Score">0</div>
                    </div>
                </div>
                <div class="vs">VS</div>
                <div class="player-score">
                    <div class="player-info">
                        <span class="player-name" id="player2Name">BOT</span>
                        <div class="score" id="player2Score">0</div>
                    </div>
                </div>
            </div>

            <!-- Game Arena -->
            <div class="game-arena">
                <div class="player-choice">
                    <div class="choice-display" id="playerChoice">‚ùì</div>
                    <p>L·ª±a ch·ªçn c·ªßa b·∫°n</p>
                </div>
                <div class="battle-result">
                    <div id="resultMessage" class="result-message">Ch·ªçn n∆∞·ªõc ƒëi!</div>
                    <div id="countdown" class="countdown hidden">3</div>
                </div>
                <div class="opponent-choice">
                    <div class="choice-display" id="opponentChoice">‚ùì</div>
                    <p>L·ª±a ch·ªçn ƒë·ªëi th·ªß</p>
                </div>
            </div>

            <!-- Choice Buttons -->
            <div class="choice-buttons">
                <button class="choice-btn" data-choice="rock">
                    <span class="choice-icon">ü™®</span>
                    <span class="choice-text">B√∫a</span>
                </button>
                <button class="choice-btn" data-choice="paper">
                    <span class="choice-icon">üìÑ</span>
                    <span class="choice-text">Bao</span>
                </button>
                <button class="choice-btn" data-choice="scissors">
                    <span class="choice-icon">‚úÇÔ∏è</span>
                    <span class="choice-text">K√©o</span>
                </button>
            </div>

            <!-- Game Status -->
            <div class="game-status">
                <div class="round-info">
                    V√°n <span id="currentRound">1</span>/<span id="totalRounds">3</span>
                </div>
                <button class="btn btn-outline btn-small" id="quitGameBtn">Tho√°t game</button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen hidden">
            <div class="result-card">
                <div class="final-result">
                    <h2 id="finalResultTitle">B·∫°n th·∫Øng!</h2>
                    <div class="final-score">
                        <span id="finalPlayerScore">3</span> - <span id="finalOpponentScore">1</span>
                    </div>
                </div>
                
                <!-- Rewards -->
                <div class="rewards-section">
                    <h3>üéÅ Ph·∫ßn th∆∞·ªüng</h3>
                    <div class="rewards-list" id="rewardsList">
                        <div class="reward-item">
                            <span class="reward-icon">üí∞</span>
                            <span class="reward-text">+50 coins</span>
                        </div>
                    </div>
                </div>

                <div class="result-buttons">
                    <button class="btn btn-primary" id="playAgainBtn">Ch∆°i l·∫°i</button>
                    <button class="btn btn-outline" id="backToMenuBtn2">Menu ch√≠nh</button>
                </div>
            </div>
        </div>

        <!-- Inventory Modal -->
        <div id="inventoryModal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>üéí Kho ƒë·ªì c·ªßa b·∫°n</h3>
                <div class="inventory-grid" id="inventoryGrid">
                    <!-- Items will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Notification System -->
        <div id="notifications" class="notifications-container"></div>
    </div>

    <!-- Scripts -->
    <!--<script src="/socket.io/socket.io.js"></script>-->
    <script src="game.js"></script>
</body>
</html>
